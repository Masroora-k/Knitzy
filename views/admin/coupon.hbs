<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="/admin/public/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">

    <title>Knitzy - Coupon</title>

</head>

<body>
    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg navbar-light shadow-sm">
        <a class="navbar-brand" href="#">
            <h4 class="navbar-logo text-white">Knitzy</h4>
        </a>
        <div class="collapse navbar-collapse">
            <ul class="navbar-nav ms-auto">
                <li class="nav-item">
                    <a class="nav-link text-white logout-btn" href="#">Logout</a>
                </li>
            </ul>
        </div>
    </nav>

    <!-- Sidebar -->
    <div class="sidebar">
        <nav class="nav flex-column">
            <a class="nav-link" href="#" id="dashboard-link"><i class="fas fa-tachometer-alt"></i> Dashboard</a>
            <a class="nav-link" href="#" id="orders-link"><i class="fas fa-box"></i> Orders</a>
            <a class="nav-link" href="#" id="products-link"><i class="fa-solid fa-dolly fas"></i> Products</a>
            <a class="nav-link" href="#" id="customers-link"><i class="fas fa-users"></i> Customers</a>
            <a class="nav-link" href="#" id="offers-link"><i class="fas fa-gift"></i> Offers</a>
            <a class="nav-link" href="#" id="coupons-link"><i class="fas fa-ticket-alt"></i> Coupons</a>
            <a class="nav-link" href="#" id="categories-link"><i class="fas fa-list"></i> Categories</a>
        </nav>
    </div>

    <!-- Content -->
    <div class="content">

        <!-- Coupons section -->
        <div class="container">
            <div class="coupons-section" id="couponsSection">
                <h2>Coupons</h2>
                <div class="search-filter d-flex mb-3">
                    <input type="text" class="form-control" placeholder="Search Coupons" />
                    <input type="date" class="form-control ms-2" placeholder="Filter by Date" />
                    <button class="btn btn-primary ms-2" onclick="showCreateCouponModal()">Create Coupon</button>
                </div>

                <table class="table table-bordered">
                    <thead>
                        <tr>
                            <th>Coupon Code</th>
                            <th>Description</th>
                            <th>Discount Type</th>
                            <th>Discount Value</th>
                            <th>Min Order Value</th>
                            <th>Start Date</th>
                            <th>End Date</th>
                            <th>Status</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="coupon-list">
                        <tr>
                            <td>SUMMER2024</td>
                            <td>Summer Sale</td>
                            <td>Percentage</td>
                            <td>20%</td>
                            <td><i class="fas fa-rupee-sign"></i>300</td>
                            <td>2024-06-01</td>
                            <td>2024-08-31</td>
                            <td>Active</td>
                            <td>
                                <button class="btn btn-info" onclick="showViewCouponModal(this)">View</button>
                                <button class="btn btn-warning" onclick="showEditCouponModal(this)">Edit</button>
                                <button class="btn btn-danger" onclick="confirmDelete(this)">Delete</button>
                            </td>
                        </tr>
                        <tr>
                            <td>WINTER2024</td>
                            <td>Winter Promo</td>
                            <td>Fixed Amount</td>
                            <td><i class="fas fa-rupee-sign"></i>100</td>
                            <td><i class="fas fa-rupee-sign"></i>500</td>
                            <td>2024-12-01</td>
                            <td>2024-12-31</td>
                            <td>Active</td>
                            <td>
                                <button class="btn btn-info" onclick="showViewCouponModal(this)">View</button>
                                <button class="btn btn-warning" onclick="showEditCouponModal(this)">Edit</button>
                                <button class="btn btn-danger" onclick="confirmDelete(this)">Delete</button>
                            </td>
                        </tr>
                        <tr>
                            <td>SPRING2024</td>
                            <td>Spring Discount</td>
                            <td>Percentage</td>
                            <td>15%</td>
                            <td><i class="fas fa-rupee-sign"></i>200</td>
                            <td>2024-03-01</td>
                            <td>2024-05-31</td>
                            <td>Active</td>
                            <td>
                                <button class="btn btn-info" onclick="showViewCouponModal(this)">View</button>
                                <button class="btn btn-warning" onclick="showEditCouponModal(this)">Edit</button>
                                <button class="btn btn-danger" onclick="confirmDelete(this)">Delete</button>
                            </td>
                        </tr>
                        <tr>
                            <td>FALL2024</td>
                            <td>Fall Festival</td>
                            <td>Fixed Amount</td>
                            <td><i class="fas fa-rupee-sign"></i>150</td>
                            <td><i class="fas fa-rupee-sign"></i>400</td>
                            <td>2024-09-01</td>
                            <td>2024-11-30</td>
                            <td>Active</td>
                            <td>
                                <button class="btn btn-info" onclick="showViewCouponModal(this)">View</button>
                                <button class="btn btn-warning" onclick="showEditCouponModal(this)">Edit</button>
                                <button class="btn btn-danger" onclick="confirmDelete(this)">Delete</button>
                            </td>
                        </tr>
                        <tr>
                            <td>BLACKFRIDAY2024</td>
                            <td>Black Friday Deal</td>
                            <td>Percentage</td>
                            <td>25%</td>
                            <td><i class="fas fa-rupee-sign"></i>600</td>
                            <td>2024-11-25</td>
                            <td>2024-11-28</td>
                            <td>Active</td>
                            <td>
                                <button class="btn btn-info" onclick="showViewCouponModal(this)">View</button>
                                <button class="btn btn-warning" onclick="showEditCouponModal(this)">Edit</button>
                                <button class="btn btn-danger" onclick="confirmDelete(this)">Delete</button>
                            </td>
                        </tr>
                        <tr>
                            <td>NEWYEAR2025</td>
                            <td>New Year Offer</td>
                            <td>Fixed Amount</td>
                            <td><i class="fas fa-rupee-sign"></i>200</td>
                            <td><i class="fas fa-rupee-sign"></i>700</td>
                            <td>2024-12-31</td>
                            <td>2025-01-02</td>
                            <td>Active</td>
                            <td>
                                <button class="btn btn-info" onclick="showViewCouponModal(this)">View</button>
                                <button class="btn btn-warning" onclick="showEditCouponModal(this)">Edit</button>
                                <button class="btn btn-danger" onclick="confirmDelete(this)">Delete</button>
                            </td>
                        </tr>
                        <tr>
                            <td>DIWALI2024</td>
                            <td>Diwali Special</td>
                            <td>Percentage</td>
                            <td>30%</td>
                            <td><i class="fas fa-rupee-sign"></i>1000</td>
                            <td>2024-10-15</td>
                            <td>2024-10-30</td>
                            <td>Active</td>
                            <td>
                                <button class="btn btn-info" onclick="showViewCouponModal(this)">View</button>
                                <button class="btn btn-warning" onclick="showEditCouponModal(this)">Edit</button>
                                <button class="btn btn-danger" onclick="confirmDelete(this)">Delete</button>
                            </td>
                        </tr>
                        <tr>
                            <td>HOLI2024</td>
                            <td>Holi Discount</td>
                            <td>Fixed Amount</td>
                            <td><i class="fas fa-rupee-sign"></i>300</td>
                            <td><i class="fas fa-rupee-sign"></i>800</td>
                            <td>2024-03-10</td>
                            <td>2024-03-20</td>
                            <td>Active</td>
                            <td>
                                <button class="btn btn-info" onclick="showViewCouponModal(this)">View</button>
                                <button class="btn btn-warning" onclick="showEditCouponModal(this)">Edit</button>
                                <button class="btn btn-danger" onclick="confirmDelete(this)">Delete</button>
                            </td>
                        </tr>
                    </tbody>
                </table>

                <!-- Pagination Controls -->
                <div class="pagination-controls mt-4">
                    <button class="btn " style="background: rgb(21, 1, 75); color: white;" id="prev-page"
                        onclick="prevPage()">Previous</button>
                    <span id="page-info"
                        style="border: 1px solid rgb(116, 113, 113); border-radius: 5px; padding: 5px;"></span>
                    <button class="btn " style="background: rgb(21, 1, 75); color: white;" id="next-page"
                        onclick="nextPage()">Next</button>
                </div>

            </div>
        </div>

        <!-- Create Coupon Modal -->
        <div id="createCouponModal" style="display: none;">
            <div class="d-flex justify-content-center align-items-center">

                <div class="p-5 col-md-6 border rounded shadow-sm" style="background-color: #f8f9fa;">
                    <h3>Create Coupon</h3>
                    <form id="createCouponForm">
                        <div class="mb-3">
                            <label for="couponCode">Coupon Code:</label>
                            <input type="text" class="form-control" id="couponCode" required />
                        </div>
                        <div class="mb-3">
                            <label for="couponDescription">Description:</label>
                            <textarea class="form-control" id="couponDescription" required></textarea>
                        </div>
                        <div class="mb-3">
                            <label for="discountType">Discount Type:</label>
                            <select class="form-control" id="discountType" required>
                                <option value="percentage">Percentage</option>
                                <option value="fixed">Fixed Amount</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="discountValue">Discount Value:</label>
                            <input type="number" class="form-control" id="discountValue" required />
                        </div>
                        <div class="mb-3">
                            <label for="minOrderValue">Min Order Value:</label>
                            <input type="number" class="form-control" id="minOrderValue" required />
                        </div>
                        <div class="mb-3">
                            <label for="startDate">Start Date:</label>
                            <input type="date" class="form-control" id="startDate" required />
                        </div>
                        <div class="mb-3">
                            <label for="endDate">End Date:</label>
                            <input type="date" class="form-control" id="endDate" required />
                        </div>
                        <div class="mb-3">
                            <label for="usageLimit">Usage Limit:</label>
                            <input type="number" class="form-control" id="usageLimit" required />
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Applicable Products:</label>
                            <div id="productsIncluded">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" value="product1" id="product1">
                                    <label class="form-check-label" for="product1">Product 1</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" value="product2" id="product2">
                                    <label class="form-check-label" for="product2">Product 2</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" value="product3" id="product3">
                                    <label class="form-check-label" for="product3">Product 3</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" value="product4" id="product4">
                                    <label class="form-check-label" for="product4">Product 4</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" value="product5" id="product5">
                                    <label class="form-check-label" for="product5">Product 5</label>
                                </div>
                            </div>
                            <small class="form-text text-muted">Click on the products you want to include.</small>
                        </div>
                        <div class="mb-3">
                            <label for="status">Status:</label>
                            <select class="form-control" id="status" required>
                                <option value="" selected>Select status</option>
                                <option value="active">Active</option>
                                <option value="inactive">Inactive</option>
                            </select>
                        </div>
                        <button type="button" class="btn btn-primary" onclick="createCoupon()">Create Coupon</button>
                        <button type="button" class="btn btn-secondary"
                            onclick="closeCreateCouponModal()">Cancel</button>
                    </form>
                </div>
            </div>
        </div>

        <!-- View Coupon Details Modal -->
        <div id="viewCouponModal" style="display: none;">

            <div class="d-flex justify-content-center align-items-center">
                <div class=" p-5 border rounded shadow-sm" style="background-color: #f8f9fa;">

                    <div class=" col-md-12">
                        <h2>Coupon Information</h2>
                        <p><strong>Coupon Code:</strong> <span id="viewCouponCode"></span></p>
                        <p><strong>Description:</strong> <span id="viewCouponDescription"></span></p>
                        <p><strong>Discount Type:</strong> <span id="viewDiscountType"></span></p>
                        <p><strong>Discount Value:</strong> <span id="viewDiscountValue"></span></p>
                        <p><strong>Min Order Value:</strong> <span id="viewMinOrderValue"></span></p>
                        <p><strong>Start Date:</strong> <span id="viewStartDate"></span></p>
                        <p><strong>End Date:</strong> <span id="viewEndDate"></span></p>
                        <p><strong>Usage Limit:</strong> <span id="viewUsageLimit"></span></p>
                        <p><strong>Applicable products:</strong> <span id="viewApplicableProducts"></span></p>
                        <p><strong>Status:</strong> <span id="viewStatus"></span></p>
                        <button type="button" class="btn btn-secondary" onclick="closeViewCouponModal()">Close</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Edit Coupon Modal -->
        <div id="editCouponModal" style="display: none;">
            <div class="  d-flex justify-content-center align-items-center">
                <div class="p-5 col-md-6 border rounded shadow-sm" style="background-color: #f8f9fa;">
                    <h2>Edit Coupon</h2>
                    <form id="editCouponForm">
                        <div class="mb-3">
                            <label for="editCouponCode">Coupon Code:</label>
                            <input type="text" class="form-control" id="editCouponCode" required />
                        </div>
                        <div class="mb-3">
                            <label for="editCouponDescription">Description:</label>
                            <textarea class="form-control" id="editCouponDescription" required></textarea>
                        </div>
                        <div class="mb-3">
                            <label for="editDiscountType">Discount Type:</label>
                            <select class="form-control" id="editDiscountType" required>
                                <option value="percentage">Percentage</option>
                                <option value="fixed">Fixed Amount</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="editDiscountValue">Discount Value:</label>
                            <input type="number" class="form-control" id="editDiscountValue" required />
                        </div>
                        <div class="mb-3">
                            <label for="editMinOrderValue">Min Order Value:</label>
                            <input type="number" class="form-control" id="editMinOrderValue" required />
                        </div>
                        <div class="mb-3">
                            <label for="editStartDate">Start Date:</label>
                            <input type="date" class="form-control" id="editStartDate" required />
                        </div>
                        <div class="mb-3">
                            <label for="editEndDate">End Date:</label>
                            <input type="date" class="form-control" id="editEndDate" required />
                        </div>
                        <div class="mb-3">
                            <label for="editUsageLimit">Usage Limit:</label>
                            <input type="number" class="form-control" id="editUsageLimit" required />
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Applicable Products:</label>
                            <div id="productsIncluded">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" value="product1" id="product1">
                                    <label class="form-check-label" for="product1">Product 1</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" value="product2" id="product2">
                                    <label class="form-check-label" for="product2">Product 2</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" value="product3" id="product3">
                                    <label class="form-check-label" for="product3">Product 3</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" value="product4" id="product4">
                                    <label class="form-check-label" for="product4">Product 4</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" value="product5" id="product5">
                                    <label class="form-check-label" for="product5">Product 5</label>
                                </div>
                            </div>
                            <small class="form-text text-muted">Click on the products you want to include.</small>
                        </div>
                        <div class="mb-3">
                            <label for="editStatus">Status:</label>
                            <select class="form-control" id="editStatus" required>
                                <option value="" selected>Select status</option>
                                <option value="active">Active</option>
                                <option value="inactive">Inactive</option>
                            </select>
                        </div>
                        <button type="button" class="btn btn-primary" onclick="updateCoupon()">Update Coupon</button>
                        <button type="button" class="btn btn-secondary" onclick="closeEditCouponModal()">Cancel</button>
                    </form>
                </div>
            </div>
        </div>
    </div>


    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
        integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.all.min.js"></script>



    <script src="/admin/Script/coupon.js"></script>

</body>

</html>